{"version":3,"file":"index.module.js","sources":["../src/util.js","../src/index.js"],"sourcesContent":["import anime from 'animejs/lib/anime.es.js';\n\nexport function fadeIn(target, duration, { beginFunc = undefined, completeFunc = undefined }) {\n  let opacity = getComputedStyle(target).opacity;\n  if (opacity === undefined) {\n    opacity = 1;\n  } else {\n    opacity = parseFloat(opacity);\n  }\n  target.style.opacity = 0;\n\n  anime({\n    targets: target,\n    opacity: opacity,\n    duration: duration,\n    easing: 'linear',\n    begin: function(a) {\n      target.style.display = '';\n      if (beginFunc !== undefined) {\n        beginFunc();\n      }\n    },\n    complete: function(a) {\n      target.style.opacity = null;\n      if (completeFunc !== undefined) {\n        completeFunc();\n      }\n    }\n  });\n}\n\nexport function fadeOut(target, duration, { beginFunc = undefined, completeFunc = undefined }) {\n  anime({\n    targets: target,\n    opacity: 0,\n    duration: duration,\n    easing: 'linear',\n    begin: function(a) {\n      if (beginFunc !== undefined) {\n        beginFunc();\n      }\n    },\n    complete: function(a) {\n      target.style.opacity = null;\n      target.style.display = 'none';\n      if (completeFunc !== undefined) {\n        completeFunc();\n      }\n    }\n  });\n}\n","import anime from 'animejs/lib/anime.es.js';\nimport { fadeIn, fadeOut } from './util.js';\nimport './index.scss';\n\nexport default class ImgPopup {\n  constructor(options) {\n    this.currentImage = { url: '', title: '' };\n    this.options = Object.assign(this.defaultOptions, options);\n    this.build();\n  }\n\n  get defaultOptions() {\n    return { fadeDuration: 600,\n             imageFadeDuration: 600,\n             positionFromTop: 50,\n             resizeDuration: 700 };\n  }\n\n  run(elems) {\n    if (elems.length == 0) return;\n\n    Array.prototype.forEach.call(elems, (elem) => {\n      let imageUrl = undefined;\n      let linkUrl = undefined;\n      let tagName = elem.tagName;\n      if (tagName == 'A') {\n        imageUrl = elem.getAttribute('data-image');\n        linkUrl = elem.getAttribute('href');\n      } else if (tagName == 'IMG') {\n        imageUrl = elem.getAttribute('src');\n        linkUrl = elem.getAttribute('src');\n      } else {\n        return;\n      }\n\n      if (imageUrl === undefined || imageUrl == null) return;\n\n      if (imageUrl.match(/\\.(gif|jpe?g|png|bmp|gif\\?\\d+|jpe?g\\?\\d+|png\\?\\d+|bmp\\?\\d+)$/i)) {\n        let title = undefined;\n        if (tagName == 'A') {\n          title = elem.querySelector('img').getAttribute('alt');\n        } else if (tagName == 'IMG') {\n          title = elem.getAttribute('alt');\n        }\n        title = (title || elem.getAttribute('title') || '');\n\n        elem.addEventListener('click', (e) => {\n          e.preventDefault();\n          this.start(imageUrl, linkUrl, title);\n        });\n      }\n    });\n  }\n\n  build() {\n    document.querySelector('body').insertAdjacentHTML('beforeend', this.overlayHTML);\n    document.querySelector('body').insertAdjacentHTML('beforeend', this.containerHTML);\n\n    this.popup = document.querySelector('#img_popup');\n    this.overlay = document.querySelector('#img_popup-overlay');\n    this.outerContainer = this.popup.querySelector('.img_popup-outer_container');\n    this.container = this.popup.querySelector('.img_popup-container');\n    this.image = this.popup.querySelector('img.img_popup-image');\n\n    this.containerPadding = {\n      top: parseInt(this.computedStyle(this.container, 'padding-top'), 10),\n      right: parseInt(this.computedStyle(this.container, 'padding-right'), 10),\n      bottom: parseInt(this.computedStyle(this.container, 'padding-bottom'), 10),\n      left: parseInt(this.computedStyle(this.container, 'padding-left'), 10)\n    };\n\n    this.imageBorderWidth = {\n      top: parseInt(this.computedStyle(this.image, 'border-top-width'), 10),\n      right: parseInt(this.computedStyle(this.image, 'border-right-width'), 10),\n      bottom: parseInt(this.computedStyle(this.image, 'border-bottom-width'), 10),\n      left: parseInt(this.computedStyle(this.image, 'border-left-width'), 10)\n    };\n\n    this.overlay.style.display = 'none';\n    this.overlay.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.end();\n    });\n\n    this.popup.style.display = 'none';\n    this.popup.addEventListener('click', (e) => {\n      e.preventDefault();\n      if (e.target.getAttribute('id') == 'img_popup') this.end();\n    });\n\n    this.outerContainer.addEventListener('click', (e) => {\n      e.preventDefault();\n      if (e.target.getAttribute('id') == 'img_popup') this.end();\n    });\n\n    this.popup.querySelector('.img_popup-image_link')\n              .addEventListener('click', (e) => {\n      e.preventDefault();\n      window.open(e.currentTarget.getAttribute('href'), '_blank');\n    });\n\n    Array.prototype.forEach.call(\n      this.popup.querySelectorAll('.img_popup-loader, .img_popup-cancel, .img_popup-close'),\n      (selector) => {\n        selector.addEventListener('click', (e) => {\n          e.preventDefault();\n          this.end();\n        });\n      }\n    );\n  }\n\n  get overlayHTML() {\n    return '<div id=\"img_popup-overlay\" class=\"img_popup-overlay\"></div>';\n  }\n\n  get containerHTML() {\n    return `\n    <div id=\"img_popup\" class=\"img_popup\">\n      <div class=\"img_popup-outer_container\">\n        <div class=\"img_popup-container\">\n          <a class=\"img_popup-image_link\" href=\"\" target=\"_blank\">\n            <img class=\"img_popup-image\" src=\"\" />\n          </a>\n          <div class=\"img_popup-loader\">\n            <a class=\"img_popup-cancel\"></a>\n          </div>\n        </div>\n        <div class=\"img_popup-data_container\">\n          <div class=\"img_popup-data\">\n            <div class=\"img_popup-details\">\n              <span class=\"img_popup-caption\"></span>\n            </div>\n            <div class=\"img_popup-close_container\">\n              <a class=\"img_popup-close\"></a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>`;\n  }\n\n  start(imageUrl, linkUrl, title) {\n    let image = this.popup.querySelector('img.img_popup-image');\n\n    window.addEventListener('resize', this.sizeOverlay);\n\n    this.sizeOverlay();\n\n    let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n    let top = scrollTop + this.options.positionFromTop;\n    let left = document.documentElement.scrollLeft || document.body.scrollLeft;\n\n    this.popup.style.top = top + 'px';\n    this.popup.style.left = left + 'px';\n    fadeIn(this.popup, this.options.fadeDuration, {});\n\n    fadeIn(this.overlay, this.options.fadeDuration,\n           { beginFunc: () => { this.overlay.style.display = 'block'; } });\n\n    fadeIn(document.querySelector('.img_popup-loader'), 600, {});\n    Array.prototype.forEach.call(\n      this.popup.querySelectorAll('.img_popup-data_container, .img_popup-caption'),\n      (selector) => { selector.style.display = 'none'; }\n    );\n    image.style.display = 'none';\n\n    this.outerContainer.classList.add('img_popup-animating');\n\n    let preloader = new Image();\n    preloader.onload = () => {\n      let windowWidth = window.innerWidth;\n      let windowHeight = window.innerHeight;\n      let maxImageWidth = windowWidth -\n                          this.containerPadding.left -\n                          this.containerPadding.right -\n                          this.imageBorderWidth.left -\n                          this.imageBorderWidth.right -\n                          20;\n      let maxImageHeight = windowHeight -\n                           this.containerPadding.top -\n                           this.containerPadding.bottom -\n                           this.imageBorderWidth.top -\n                           this.imageBorderWidth.bottom -\n                           120;\n\n      image.setAttribute('src', preloader.src);\n      image.style.width = preloader.width + 'px';\n      image.style.height = preloader.height + 'px';\n\n      if ((preloader.width > maxImageWidth) || (preloader.height > maxImageHeight)) {\n        if ((preloader.width / maxImageWidth) > (preloader.height / maxImageHeight)) {\n          let imageWidth = maxImageWidth;\n          let imageHeight = parseInt(preloader.height / (preloader.width / imageWidth), 10);\n          image.style.width = imageWidth + 'px';\n          image.style.height = imageHeight + 'px';\n        } else {\n          let imageHeight = maxImageHeight;\n          let imageWidth = parseInt(preloader.width / (preloader.height / imageHeight), 10);\n          image.style.width = imageWidth + 'px';\n          image.style.height = imageHeight + 'px';\n        }\n      }\n\n      this.sizeContainer(image);\n    };\n\n    this.currentImage.url = linkUrl;\n    this.currentImage.title = title;\n\n    preloader.src = imageUrl;\n  }\n\n  sizeOverlay() {\n    this.overlay.style.width = document.body.clientWidth + 'px';\n    this.overlay.style.height = document.body.clientHeight + 'px';\n  }\n\n  sizeContainer(image) {\n    let oldWidth = this.outerContainer.offsetWidth;\n    let oldHeight = this.outerContainer.offsetHeight;\n    let newWidth = parseInt(this.computedStyle(image, 'width'), 10) +\n                   this.containerPadding.left +\n                   this.containerPadding.right +\n                   this.imageBorderWidth.left +\n                   this.imageBorderWidth.right;\n    let newHeight = parseInt(this.computedStyle(image, 'height'), 10) +\n                    this.containerPadding.top +\n                    this.containerPadding.bottom +\n                    this.imageBorderWidth.top +\n                    this.imageBorderWidth.bottom;\n\n    image.style.width = newWidth + 'px';\n    image.style.height = newHeight + 'px';\n\n    if (oldWidth !== newWidth || oldHeight !== newHeight) {\n      anime({\n        targets: this.outerContainer,\n        width: newWidth,\n        height: newHeight,\n        duration: this.options.resizeDuration,\n        easing: 'easeOutSine',\n        complete: (a) => {\n          this.postResize(newWidth);\n        }\n      });\n    } else {\n      this.postResize(newWidth);\n    }\n  }\n\n  postResize(newWidth){\n    let popupDataContainer = this.popup.querySelector('.img_popup-data_container');\n    popupDataContainer.style.width = newWidth + 'px';\n    this.showImage();\n    this.updateLink();\n    this.updateDetails();\n  }\n\n  showImage() {\n    let popupLoader = this.popup.querySelector('.img_popup-loader');\n    anime.remove(popupLoader);\n    popupLoader.style.display = 'none';\n    fadeIn(this.popup.querySelector('.img_popup-image'),\n           this.options.imageFadeDuration,\n           {});\n  };\n\n  updateLink() {\n    let link = this.popup.querySelector('.img_popup-image_link');\n    link.setAttribute('href', this.currentImage.url);\n  }\n\n  updateDetails() {\n    let caption = this.popup.querySelector('.img_popup-caption');\n\n    caption.innerHTML = this.currentImage.title;\n    fadeIn(caption, 200, {});\n    this.outerContainer.classList.remove('img_popup-animating');\n    fadeIn(this.popup.querySelector('.img_popup-data_container'),\n           this.options.resizeDuration,\n           { completeFunc: () => { this.sizeOverlay(); } });\n  }\n\n  end() {\n    window.removeEventListener('resize', this.sizeOverlay);\n    fadeOut(this.popup, this.options.fadeDuration, {});\n    fadeOut(this.overlay, this.options.fadeDuration, {});\n  }\n\n  computedStyle(element, property) {\n    return element.currentStyle ||\n           document.defaultView.getComputedStyle(element).getPropertyValue(property);\n  }\n}\n"],"names":["fadeIn","target","duration","beginFunc","completeFunc","_ref","opacity","getComputedStyle","undefined","parseFloat","style","anime","targets","easing","begin","a","display","complete","fadeOut","_ref2","constructor","options","this","currentImage","url","title","Object","assign","defaultOptions","build","fadeDuration","imageFadeDuration","positionFromTop","resizeDuration","run","elems","length","Array","prototype","forEach","call","elem","imageUrl","tagName","getAttribute","linkUrl","match","querySelector","addEventListener","e","preventDefault","start","document","insertAdjacentHTML","overlayHTML","containerHTML","popup","overlay","outerContainer","container","image","containerPadding","top","parseInt","computedStyle","right","bottom","left","imageBorderWidth","end","window","open","currentTarget","querySelectorAll","selector","sizeOverlay","scrollTop","documentElement","body","scrollLeft","classList","add","preloader","Image","onload","windowWidth","innerWidth","windowHeight","innerHeight","setAttribute","src","width","height","maxImageWidth","maxImageHeight","imageWidth","imageHeight","_imageWidth","sizeContainer","clientWidth","clientHeight","oldWidth","offsetWidth","oldHeight","offsetHeight","newWidth","newHeight","postResize","showImage","updateLink","updateDetails","popupLoader","remove","caption","innerHTML","removeEventListener","element","property","currentStyle","defaultView","getPropertyValue"],"mappings":"uCAEgBA,SAAAA,EAAOC,EAAQC,KAAU,IAAAC,UAAEA,EAAFC,aAAyBA,GAA4BC,EACxFC,EAAUC,iBAAiBN,GAAQK,QAErCA,OADcE,IAAZF,EACQ,EAEAG,WAAWH,GAEvBL,EAAOS,MAAMJ,QAAU,EAEvBK,EAAM,CACJC,QAASX,EACTK,QAASA,EACTJ,SAAUA,EACVW,OAAQ,SACRC,MAAO,SAASC,GACdd,EAAOS,MAAMM,QAAU,QACLR,IAAdL,GACFA,KAGJc,SAAU,SAASF,GACjBd,EAAOS,MAAMJ,QAAU,UACFE,IAAjBJ,GACFA,OAMD,SAAAc,EAAiBjB,EAAQC,EAA+DiB,GAAA,IAArDhB,UAAEA,EAAFC,aAAyBA,GACjEO,EAAAA,EAAM,CACJC,QAASX,EACTK,QAAS,EACTJ,SAAUA,EACVW,OAAQ,SACRC,MAAO,SAASC,QACIP,IAAdL,GACFA,KAGJc,SAAU,SAASF,GACjBd,EAAOS,MAAMJ,QAAU,KACvBL,EAAOS,MAAMM,QAAU,YACFR,IAAjBJ,GACFA,OC1CO,QACbgB,YAAYC,GACVC,KAAKC,aAAe,CAAEC,IAAK,GAAIC,MAAO,IACtCH,KAAKD,QAAUK,OAAOC,OAAOL,KAAKM,eAAgBP,GAClDC,KAAKO,QAGWD,qBAChB,MAAO,CAAEE,aAAc,IACdC,kBAAmB,IACnBC,gBAAiB,GACjBC,eAAgB,KAG3BC,IAAIC,GACkB,GAAhBA,EAAMC,QAEVC,MAAMC,UAAUC,QAAQC,KAAKL,EAAQM,IACnC,IAAYC,OAAGlC,SACDA,EACVmC,EAAUF,EAAKE,QACnB,GAAe,KAAXA,EACFD,EAAWD,EAAKG,aAAa,cAC7BC,EAAUJ,EAAKG,aAAa,YACvB,IAAe,OAAXD,EAIT,OAHAD,EAAWD,EAAKG,aAAa,OAC7BC,EAAUJ,EAAKG,aAAa,OAK9B,QAAiBpC,IAAbkC,GAAsC,MAAZA,GAE1BA,EAASI,MAAM,iEAAkE,CACnF,IAAIrB,OAAQjB,EACG,KAAXmC,EACFlB,EAAQgB,EAAKM,cAAc,OAAOH,aAAa,OAC3B,OAAXD,IACTlB,EAAQgB,EAAKG,aAAa,QAE5BnB,EAASA,GAASgB,EAAKG,aAAa,UAAY,GAEhDH,EAAKO,iBAAiB,QAAUC,IAC9BA,EAAEC,iBACF5B,KAAK6B,MAAMT,EAAUG,EAASpB,QAMtCI,QACEuB,SAASL,cAAc,QAAQM,mBAAmB,YAAa/B,KAAKgC,aACpEF,SAASL,cAAc,QAAQM,mBAAmB,YAAa/B,KAAKiC,eAEpEjC,KAAKkC,MAAQJ,SAASL,cAAc,cACpCzB,KAAKmC,QAAUL,SAASL,cAAc,sBACtCzB,KAAKoC,eAAiBpC,KAAKkC,MAAMT,cAAc,8BAC/CzB,KAAKqC,UAAYrC,KAAKkC,MAAMT,cAAc,wBAC1CzB,KAAKsC,MAAQtC,KAAKkC,MAAMT,cAAc,uBAEtCzB,KAAKuC,iBAAmB,CACtBC,IAAKC,SAASzC,KAAK0C,cAAc1C,KAAKqC,UAAW,eAAgB,IACjEM,MAAOF,SAASzC,KAAK0C,cAAc1C,KAAKqC,UAAW,iBAAkB,IACrEO,OAAQH,SAASzC,KAAK0C,cAAc1C,KAAKqC,UAAW,kBAAmB,IACvEQ,KAAMJ,SAASzC,KAAK0C,cAAc1C,KAAKqC,UAAW,gBAAiB,KAGrErC,KAAK8C,iBAAmB,CACtBN,IAAKC,SAASzC,KAAK0C,cAAc1C,KAAKsC,MAAO,oBAAqB,IAClEK,MAAOF,SAASzC,KAAK0C,cAAc1C,KAAKsC,MAAO,sBAAuB,IACtEM,OAAQH,SAASzC,KAAK0C,cAAc1C,KAAKsC,MAAO,uBAAwB,IACxEO,KAAMJ,SAASzC,KAAK0C,cAAc1C,KAAKsC,MAAO,qBAAsB,KAGtEtC,KAAKmC,QAAQ/C,MAAMM,QAAU,OAC7BM,KAAKmC,QAAQT,iBAAiB,QAAUC,IACtCA,EAAEC,iBACF5B,KAAK+C,QAGP/C,KAAKkC,MAAM9C,MAAMM,QAAU,OAC3BM,KAAKkC,MAAMR,iBAAiB,QAAUC,IACpCA,EAAEC,iBACiC,aAA/BD,EAAEhD,OAAO2C,aAAa,OAAsBtB,KAAK+C,QAGvD/C,KAAKoC,eAAeV,iBAAiB,QAAUC,IAC7CA,EAAEC,iBACiC,aAA/BD,EAAEhD,OAAO2C,aAAa,OAAsBtB,KAAK+C,QAGvD/C,KAAKkC,MAAMT,cAAc,yBACdC,iBAAiB,QAAUC,IACpCA,EAAEC,iBACFoB,OAAOC,KAAKtB,EAAEuB,cAAc5B,aAAa,QAAS,YAGpDP,MAAMC,UAAUC,QAAQC,KACtBlB,KAAKkC,MAAMiB,iBAAiB,0DAC3BC,IACCA,EAAS1B,iBAAiB,QAAUC,IAClCA,EAAEC,iBACF5B,KAAK+C,UAMTf,kBACF,MAAO,mFAIP,qxBAyBFH,MAAMT,EAAUG,EAASpB,GACvB,IAAImC,EAAQtC,KAAKkC,MAAMT,cAAc,uBAErCuB,OAAOtB,iBAAiB,SAAU1B,KAAKqD,aAEvCrD,KAAKqD,cAEL,IAAaC,EAAGxB,SAASyB,gBAAgBD,WAAaxB,SAAS0B,KAAKF,UAE5DT,EAAGf,SAASyB,gBAAgBE,YAAc3B,SAAS0B,KAAKC,WAEhEzD,KAAKkC,MAAM9C,MAAMoD,IAHPc,EAAYtD,KAAKD,QAAQW,gBAGN,KAC7BV,KAAKkC,MAAM9C,MAAMyD,KAAOA,EAAO,KAC/BnE,EAAOsB,KAAKkC,MAAOlC,KAAKD,QAAQS,aAAc,IAE9C9B,EAAOsB,KAAKmC,QAASnC,KAAKD,QAAQS,aAC3B,CAAE3B,UAAW,KAAQmB,KAAKmC,QAAQ/C,MAAMM,QAAU,WAEzDhB,EAAOoD,SAASL,cAAc,qBAAsB,IAAK,IACzDV,MAAMC,UAAUC,QAAQC,KACtBlB,KAAKkC,MAAMiB,iBAAiB,iDAC3BC,IAAeA,EAAShE,MAAMM,QAAU,SAE3C4C,EAAMlD,MAAMM,QAAU,OAEtBM,KAAKoC,eAAesB,UAAUC,IAAI,uBAElC,IAAIC,EAAY,IAAIC,MACpBD,EAAUE,OAAS,KACjB,IAAeC,EAAGf,OAAOgB,WACrBC,EAAejB,OAAOkB,cACNH,EACA/D,KAAKuC,iBAAiBM,KACtB7C,KAAKuC,iBAAiBI,MACtB3C,KAAK8C,iBAAiBD,KACtB7C,KAAK8C,iBAAiBH,MACtB,KACCsB,EACAjE,KAAKuC,iBAAiBC,IACtBxC,KAAKuC,iBAAiBK,OACtB5C,KAAK8C,iBAAiBN,IACtBxC,KAAK8C,iBAAiBF,OACtB,IAMrB,GAJAN,EAAM6B,aAAa,MAAOP,EAAUQ,KACpC9B,EAAMlD,MAAMiF,MAAQT,EAAUS,MAAQ,KACtC/B,EAAMlD,MAAMkF,OAASV,EAAUU,OAAS,KAEnCV,EAAUS,MAAQE,GAAmBX,EAAUU,OAASE,EAC3D,GAAKZ,EAAUS,MAAQE,EAAkBX,EAAUU,OAASE,EAAiB,CAC3E,IAAIC,EAAaF,EACFG,EAAGjC,SAASmB,EAAUU,QAAUV,EAAUS,MAAQI,GAAa,IAC9EnC,EAAMlD,MAAMiF,MAAQI,EAAa,KACjCnC,EAAMlD,MAAMkF,OAASI,EAAc,SAC9B,CACL,IAAIA,EAAcF,EACJG,EAAGlC,SAASmB,EAAUS,OAAST,EAAUU,OAASI,GAAc,IAC9EpC,EAAMlD,MAAMiF,MAAQI,EAAa,KACjCnC,EAAMlD,MAAMkF,OAASI,EAAc,KAIvC1E,KAAK4E,cAActC,IAGrBtC,KAAKC,aAAaC,IAAMqB,EACxBvB,KAAKC,aAAaE,MAAQA,EAE1ByD,EAAUQ,IAAMhD,EAGlBiC,cACErD,KAAKmC,QAAQ/C,MAAMiF,MAAQvC,SAAS0B,KAAKqB,YAAc,KACvD7E,KAAKmC,QAAQ/C,MAAMkF,OAASxC,SAAS0B,KAAKsB,aAAe,KAG3DF,cAActC,GACZ,IAAYyC,EAAG/E,KAAKoC,eAAe4C,YACtBC,EAAGjF,KAAKoC,eAAe8C,aACxBC,EAAG1C,SAASzC,KAAK0C,cAAcJ,EAAO,SAAU,IAC7CtC,KAAKuC,iBAAiBM,KACtB7C,KAAKuC,iBAAiBI,MACtB3C,KAAK8C,iBAAiBD,KACtB7C,KAAK8C,iBAAiBH,MACxByC,EAAG3C,SAASzC,KAAK0C,cAAcJ,EAAO,UAAW,IAC9CtC,KAAKuC,iBAAiBC,IACtBxC,KAAKuC,iBAAiBK,OACtB5C,KAAK8C,iBAAiBN,IACtBxC,KAAK8C,iBAAiBF,OAEtCN,EAAMlD,MAAMiF,MAAQc,EAAW,KAC/B7C,EAAMlD,MAAMkF,OAASc,EAAY,KAE7BL,IAAaI,GAAYF,IAAcG,EACzC/F,EAAM,CACJC,QAASU,KAAKoC,eACdiC,MAAOc,EACPb,OAAQc,EACRxG,SAAUoB,KAAKD,QAAQY,eACvBpB,OAAQ,cACRI,SAAWF,IACTO,KAAKqF,WAAWF,MAIpBnF,KAAKqF,WAAWF,GAIpBE,WAAWF,GACgBnF,KAAKkC,MAAMT,cAAc,6BAC/BrC,MAAMiF,MAAQc,EAAW,KAC5CnF,KAAKsF,YACLtF,KAAKuF,aACLvF,KAAKwF,gBAGPF,YACE,IAAeG,EAAGzF,KAAKkC,MAAMT,cAAc,qBAC3CpC,EAAMqG,OAAOD,GACbA,EAAYrG,MAAMM,QAAU,OAC5BhB,EAAOsB,KAAKkC,MAAMT,cAAc,oBACzBzB,KAAKD,QAAQU,kBACb,IAGT8E,aACavF,KAAKkC,MAAMT,cAAc,yBAC/B0C,aAAa,OAAQnE,KAAKC,aAAaC,KAG9CsF,gBACE,IAAWG,EAAG3F,KAAKkC,MAAMT,cAAc,sBAEvCkE,EAAQC,UAAY5F,KAAKC,aAAaE,MACtCzB,EAAOiH,EAAS,IAAK,IACrB3F,KAAKoC,eAAesB,UAAUgC,OAAO,uBACrChH,EAAOsB,KAAKkC,MAAMT,cAAc,6BACzBzB,KAAKD,QAAQY,eACb,CAAE7B,aAAc,KAAQkB,KAAKqD,iBAGtCN,MACEC,OAAO6C,oBAAoB,SAAU7F,KAAKqD,aAC1CzD,EAAQI,KAAKkC,MAAOlC,KAAKD,QAAQS,aAAc,IAC/CZ,EAAQI,KAAKmC,QAASnC,KAAKD,QAAQS,aAAc,IAGnDkC,cAAcoD,EAASC,GACrB,OAAcD,EAACE,cACRlE,SAASmE,YAAYhH,iBAAiB6G,GAASI,iBAAiBH"}